<html>
<head>
    <title>Неделя 8</title>
    <link rel="stylesheet" href="https://bootswatch.com/4/journal/bootstrap.min.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="https://cyrillelamal.github.io/">Page d'accueil</a>
    </nav>

    <div class="container">

        <h1 style="margin: 1em 0px;">Context. Binding + Async</h1>

        <p>
            <a href="./src">Files</a>
        </p>

        <div class="jumbotron">
            <h2 class="display-4">Summator</h2>
            <p class="card-text">
            <code>
            <pre>
            // function summator() {
            //     const args = this;
            //     return args.reduce((a, b) => a + b);
            // }
            
            const summator = (...args) => args.reduce((a, b) => a + b);
            
            
            module.exports.summator = summator;
            </pre>
            </code>
            </p>
        </div>

        <div class="jumbotron">
            <h2 class="display-4">searchById</h2>
            <p class="card-text">
            <code>
            <pre>
            const searchById = (arr, id) => arr.find(obj => obj.id == id);

            module.exports.searchById = searchById;
            </pre>
            </code>
            </p>
        </div>

        <div class="jumbotron">
            <h2 class="display-4">URL Builder</h2>
            <p class="card-text">
            <code>
            <pre>
            const fetch = require('node-fetch');

            const buildURL = (lastName, obj, rawURL='http://3336.kodaktor.ru/ivanov?result') => {
                const url = rawURL.replace('ivanov', lastName)
                            + '='
                            + encodeURIComponent(JSON.stringify(obj));
                return url;
            }

            const request3336 = async (lastName, obj, url=null) => {
                if (url === null) url = buildURL(lastName, obj);
                const txt = await fetch(url).then(res => res.text())
                return txt;
            }

            module.exports.request3336 =request3336;
            </pre>
            </code>
            </p>
        </div>

    </div>
</body>
